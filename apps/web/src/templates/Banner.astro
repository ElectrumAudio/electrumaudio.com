---
import { Image } from 'astro:assets';
const { frontmatter } = Astro.props;
let bannerImage;
const imageBannerClass = (frontmatter.position) ? `banner-image-${frontmatter.position}` : (frontmatter.image) ? "banner-image-left" : null;
if (frontmatter.image) {
    bannerImage = import(`../assets/${frontmatter.image[0]}`);
    await bannerImage;
}
---
<div class:list={["banner", imageBannerClass]}>
    {frontmatter.title &&
        <h2>{frontmatter.title}</h2>
    }
    {bannerImage &&
        <Image src={bannerImage} alt={frontmatter.image[1]} /> 
    }
    <div class="banner-text">
        <slot />
    </div>
</div>
    <style is:global>
        main > .banner {
            width: 100%;
            padding: 2rem 7vw;
            margin: 0 0 2rem;
            background: linear-gradient(rgba(0,0,0,0.9), rgba(75,75,75,0.9));
        }

        main > .banner h2 {
            font-size: 2rem;
            color: var(--clay);
            margin-bottom: 0.5rem;
        }

        main > .banner p {
            font-size: 1.6rem;
            letter-spacing: 1px;
            color: white;
            text-align: center;
        }

        main > .banner-image-left, main > .banner-image-right {
            display: grid;
            grid-template-rows: 2.5rem 1fr;
            grid-template-columns: auto 1fr;
            column-gap: 2.5rem;
        }

        main > .banner-image-left > .banner-text {
            grid-column: 2;
            grid-row: 2;
        }

        main > .banner-image-right > .banner-text {
            grid-column: 1;
            grid-row: 2;
        }

        main > .banner-image-left > h2 {
            grid-column: 2;
            grid-row: 1;
            text-align: left;
        }

        main > .banner-image-left p {
            text-align: left;
            font-size: 1.2rem;
            line-height: 1.6rem;
        }

        main > .banner-image-right > h2 {
            grid-column: 1;
            grid-row: 1;
            text-align: right;
        }

        main > .banner-image-right p {
            text-align: right;
            font-size: 1.2rem;
            line-height: 1.6rem;
        }

        main > .banner-image-left > img, main > .banner-image-right > img {
            height: auto;
            width: 30vw;
            object-fit: contain;
            border: 1px solid var(--clay);
            grid-row: 1 / 3;
        }

        main > .banner-image-left > img {
            grid-column: 1;
            border-top-left-radius: 1rem;
        }

        main > .banner-image-right > img {
            grid-column: 2;
            border-top-right-radius: 1rem;
        }
    </style>